# ìì¬ ê°€ê²© ë™í–¥ ë¶„ì„ ì‹œìŠ¤í…œ - ë°°í¬ ë° ì—°ë™ ê°€ì´ë“œ

## 1. ì „ì²´ ë°°í¬ ì•„í‚¤í…ì²˜

### 1.1 ë°°í¬ í™˜ê²½ êµ¬ì„±ë„
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    TRAE AI IDE                             â”‚
â”‚ â€¢ Live Coding & Development                                 â”‚
â”‚ â€¢ Real-time Code Generation                                 â”‚
â”‚ â€¢ Automated Testing & Debugging                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Local Development                       â”‚
â”‚ â€¢ Next.js Dev Server (localhost:3000)                     â”‚
â”‚ â€¢ Supabase Local Instance                                  â”‚
â”‚ â€¢ Hot Reload & Live Preview                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Version Control                         â”‚
â”‚ â€¢ Git Repository                                           â”‚
â”‚ â€¢ Branch Strategy (main/develop/feature)                  â”‚
â”‚ â€¢ Automated CI/CD Triggers                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Vercel Platform                        â”‚
â”‚ â€¢ Production Deployment (materials-dashboard.vercel.app)  â”‚
â”‚ â€¢ Preview Deployments (PRë³„ ìë™ ë°°í¬)                     â”‚
â”‚ â€¢ Edge Functions & API Routes                             â”‚
â”‚ â€¢ CDN & Global Distribution                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    Supabase Cloud                         â”‚
â”‚ â€¢ PostgreSQL Database                                      â”‚
â”‚ â€¢ Real-time Subscriptions                                 â”‚
â”‚ â€¢ Authentication & Authorization                           â”‚
â”‚ â€¢ Row Level Security (RLS)                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                    External Services                       â”‚
â”‚ â€¢ KPI ì›¹ì‚¬ì´íŠ¸ (ë°ì´í„° ì†ŒìŠ¤)                                â”‚
â”‚ â€¢ Vercel Cron Jobs (ìë™ í¬ë¡¤ë§)                           â”‚
â”‚ â€¢ Email/SMS ì•Œë¦¼ ì„œë¹„ìŠ¤                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. Supabase ì„¤ì • ë° ì—°ë™

### 2.1 Supabase í”„ë¡œì íŠ¸ ìƒì„±
```bash
# 1. Supabase CLI ì„¤ì¹˜
npm install -g supabase

# 2. Supabase ë¡œê·¸ì¸
supabase login

# 3. ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± (ì›¹ì—ì„œ ìƒì„± í›„)
supabase init

# 4. ë¡œì»¬ ê°œë°œ í™˜ê²½ ì‹œì‘
supabase start

# 5. ì›ê²© í”„ë¡œì íŠ¸ì™€ ì—°ê²°
supabase link --project-ref YOUR_PROJECT_REF
```

### 2.2 ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì„¤ì •
```sql
-- supabase/migrations/001_initial_schema.sql

-- 1. ìì¬ ì¹´í…Œê³ ë¦¬ í…Œì´ë¸”
CREATE TABLE material_categories (
  id SERIAL PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  code VARCHAR(20) UNIQUE NOT NULL,
  parent_id INTEGER REFERENCES material_categories(id),
  level INTEGER NOT NULL CHECK (level BETWEEN 1 AND 4),
  description TEXT,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- 2. ìì¬ ë§ˆìŠ¤í„° í…Œì´ë¸”
CREATE TABLE materials (
  id SERIAL PRIMARY KEY,
  name VARCHAR(200) NOT NULL,
  code VARCHAR(50) UNIQUE NOT NULL,
  specification TEXT,
  unit VARCHAR(20) NOT NULL,
  category_id INTEGER REFERENCES material_categories(id),
  kpi_item_code VARCHAR(50),
  manufacturer VARCHAR(100),
  model VARCHAR(100),
  description TEXT,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);

-- 3. ê°€ê²© ì´ë ¥ í…Œì´ë¸”
CREATE TABLE price_history (
  id SERIAL PRIMARY KEY,
  material_id INTEGER REFERENCES materials(id),
  price DECIMAL(15,2) NOT NULL,
  price_date DATE NOT NULL,
  data_source VARCHAR(50) DEFAULT 'KPI',
  currency VARCHAR(3) DEFAULT 'KRW',
  region VARCHAR(50) DEFAULT 'Korea',
  supplier VARCHAR(100),
  notes TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(material_id, price_date, data_source)
);

-- 4. í¬ë¡¤ë§ ë¡œê·¸ í…Œì´ë¸”
CREATE TABLE crawling_logs (
  id SERIAL PRIMARY KEY,
  crawl_date DATE NOT NULL,
  start_time TIMESTAMP NOT NULL,
  end_time TIMESTAMP,
  total_items INTEGER DEFAULT 0,
  success_items INTEGER DEFAULT 0,
  failed_items INTEGER DEFAULT 0,
  status VARCHAR(20) DEFAULT 'running',
  error_message TEXT,
  crawl_type VARCHAR(50) DEFAULT 'daily',
  created_at TIMESTAMP DEFAULT NOW()
);

-- 5. RLS ì •ì±… ì„¤ì •
ALTER TABLE materials ENABLE ROW LEVEL SECURITY;
ALTER TABLE price_history ENABLE ROW LEVEL SECURITY;
ALTER TABLE material_categories ENABLE ROW LEVEL SECURITY;
ALTER TABLE crawling_logs ENABLE ROW LEVEL SECURITY;

-- ì½ê¸° ê¶Œí•œ (ëª¨ë“  ì‚¬ìš©ì)
CREATE POLICY "Allow read access for all users" ON materials FOR SELECT USING (true);
CREATE POLICY "Allow read access for all users" ON price_history FOR SELECT USING (true);
CREATE POLICY "Allow read access for all users" ON material_categories FOR SELECT USING (true);
CREATE POLICY "Allow read access for all users" ON crawling_logs FOR SELECT USING (true);

-- ì¸ë±ìŠ¤ ìƒì„±
CREATE INDEX idx_materials_category ON materials(category_id);
CREATE INDEX idx_materials_active ON materials(is_active);
CREATE INDEX idx_price_history_material_date ON price_history(material_id, price_date DESC);
CREATE INDEX idx_price_history_date ON price_history(price_date DESC);
CREATE INDEX idx_crawling_logs_date ON crawling_logs(crawl_date DESC);
CREATE INDEX idx_categories_parent ON material_categories(parent_id);
```

### 2.3 Supabase í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# .env.local (ë¡œì»¬ ê°œë°œìš©)
NEXT_PUBLIC_SUPABASE_URL=http://localhost:54321
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_local_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_local_service_role_key

# .env.production (í”„ë¡œë•ì…˜ìš© - Vercelì—ì„œ ì„¤ì •)
NEXT_PUBLIC_SUPABASE_URL=https://your-project.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_production_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_production_service_role_key
```

### 2.4 Supabase í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
```typescript
// src/lib/supabase.ts
import { createClient } from '@supabase/supabase-js';
import { createClientComponentClient, createServerComponentClient } from '@supabase/auth-helpers-nextjs';
import { cookies } from 'next/headers';

// í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œìš©
export const createClientSupabase = () => {
  return createClientComponentClient();
};

// ì„œë²„ ì‚¬ì´ë“œìš©
export const createServerSupabase = () => {
  const cookieStore = cookies();
  return createServerComponentClient({ cookies: () => cookieStore });
};

// ì„œë¹„ìŠ¤ ì—­í• ìš© (ê´€ë¦¬ì ì‘ì—…)
export const createServiceSupabase = () => {
  return createClient(
    process.env.NEXT_PUBLIC_SUPABASE_URL!,
    process.env.SUPABASE_SERVICE_ROLE_KEY!,
    {
      auth: {
        autoRefreshToken: false,
        persistSession: false
      }
    }
  );
};

// íƒ€ì… ì •ì˜
export type Database = {
  public: {
    Tables: {
      materials: {
        Row: {
          id: number;
          name: string;
          code: string;
          specification: string | null;
          unit: string;
          category_id: number | null;
          kpi_item_code: string | null;
          manufacturer: string | null;
          model: string | null;
          description: string | null;
          is_active: boolean;
          created_at: string;
          updated_at: string;
        };
        Insert: {
          name: string;
          code: string;
          specification?: string;
          unit: string;
          category_id?: number;
          kpi_item_code?: string;
          manufacturer?: string;
          model?: string;
          description?: string;
          is_active?: boolean;
        };
        Update: {
          name?: string;
          code?: string;
          specification?: string;
          unit?: string;
          category_id?: number;
          kpi_item_code?: string;
          manufacturer?: string;
          model?: string;
          description?: string;
          is_active?: boolean;
          updated_at?: string;
        };
      };
      // ë‹¤ë¥¸ í…Œì´ë¸”ë“¤ë„ ë™ì¼í•˜ê²Œ ì •ì˜...
    };
  };
};
```

## 3. Vercel ë°°í¬ ì„¤ì •

### 3.1 Vercel í”„ë¡œì íŠ¸ ìƒì„± ë° ì—°ê²°
```bash
# 1. Vercel CLI ì„¤ì¹˜
npm install -g vercel

# 2. Vercel ë¡œê·¸ì¸
vercel login

# 3. í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
vercel

# 4. í”„ë¡œì íŠ¸ ì„¤ì •
# ? Set up and deploy "materials-dashboard"? [Y/n] y
# ? Which scope do you want to deploy to? [your-team]
# ? Link to existing project? [y/N] n
# ? What's your project's name? materials-dashboard
# ? In which directory is your code located? ./
```

### 3.2 Vercel ì„¤ì • íŒŒì¼
```json
// vercel.json
{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "devCommand": "npm run dev",
  "installCommand": "npm install",
  "regions": ["icn1"],
  "env": {
    "NEXT_PUBLIC_SUPABASE_URL": "@supabase-url",
    "NEXT_PUBLIC_SUPABASE_ANON_KEY": "@supabase-anon-key",
    "SUPABASE_SERVICE_ROLE_KEY": "@supabase-service-role-key"
  },
  "functions": {
    "src/app/api/crawl/route.ts": {
      "maxDuration": 300
    }
  },
  "crons": [
    {
      "path": "/api/crawl/daily",
      "schedule": "0 9 * * *"
    }
  ]
}
```

### 3.3 Vercel í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
```bash
# í”„ë¡œë•ì…˜ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add NEXT_PUBLIC_SUPABASE_URL production
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY production
vercel env add SUPABASE_SERVICE_ROLE_KEY production

# ë¯¸ë¦¬ë³´ê¸° í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add NEXT_PUBLIC_SUPABASE_URL preview
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY preview
vercel env add SUPABASE_SERVICE_ROLE_KEY preview

# ê°œë°œ í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
vercel env add NEXT_PUBLIC_SUPABASE_URL development
vercel env add NEXT_PUBLIC_SUPABASE_ANON_KEY development
vercel env add SUPABASE_SERVICE_ROLE_KEY development
```

### 3.4 ìë™ ë°°í¬ ì„¤ì •
```yaml
# .github/workflows/deploy.yml
name: Deploy to Vercel

on:
  push:
    branches: [main, develop]
  pull_request:
    branches: [main]

jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
          cache: 'npm'
      
      - name: Install dependencies
        run: npm ci
      
      - name: Run tests
        run: npm run test
      
      - name: Build project
        run: npm run build
      
      - name: Deploy to Vercel
        uses: amondnet/vercel-action@v25
        with:
          vercel-token: ${{ secrets.VERCEL_TOKEN }}
          vercel-org-id: ${{ secrets.ORG_ID }}
          vercel-project-id: ${{ secrets.PROJECT_ID }}
          working-directory: ./
```

## 4. TRAE AI ì—°ë™ ì„¤ì •

### 4.1 TRAE AI í”„ë¡œì íŠ¸ ì„¤ì •
```json
// .trae/config.json
{
  "project": {
    "name": "materials-dashboard",
    "type": "nextjs",
    "framework": "react",
    "language": "typescript",
    "version": "1.0.0"
  },
  "development": {
    "port": 3000,
    "host": "localhost",
    "https": false,
    "autoReload": true
  },
  "ai": {
    "codeGeneration": {
      "enabled": true,
      "templates": [
        "react-component",
        "nextjs-api",
        "supabase-query",
        "chart-component"
      ]
    },
    "autoCompletion": {
      "enabled": true,
      "contextAware": true,
      "suggestions": true
    },
    "debugging": {
      "enabled": true,
      "errorAnalysis": true,
      "performanceMonitoring": true
    },
    "testing": {
      "enabled": true,
      "autoGenerate": true,
      "coverage": true
    }
  },
  "integrations": {
    "supabase": {
      "enabled": true,
      "projectUrl": "${NEXT_PUBLIC_SUPABASE_URL}",
      "anonKey": "${NEXT_PUBLIC_SUPABASE_ANON_KEY}",
      "features": [
        "database",
        "auth",
        "realtime",
        "storage"
      ]
    },
    "vercel": {
      "enabled": true,
      "projectId": "${VERCEL_PROJECT_ID}",
      "teamId": "${VERCEL_TEAM_ID}",
      "features": [
        "deployment",
        "preview",
        "analytics",
        "functions"
      ]
    },
    "git": {
      "enabled": true,
      "provider": "github",
      "repository": "your-username/materials-dashboard",
      "branch": "main"
    }
  },
  "rules": {
    "codeStyle": {
      "style": "typescript-strict",
      "prettier": true,
      "eslint": true
    },
    "componentStructure": {
      "type": "functional",
      "hooks": "react-hooks",
      "stateManagement": "zustand"
    },
    "styling": {
      "framework": "tailwind",
      "components": "shadcn/ui"
    },
    "database": {
      "orm": "supabase",
      "migrations": true,
      "seeds": true
    }
  },
  "workflows": {
    "development": [
      "code-generation",
      "auto-completion",
      "real-time-preview",
      "error-detection"
    ],
    "testing": [
      "unit-tests",
      "integration-tests",
      "e2e-tests",
      "coverage-report"
    ],
    "deployment": [
      "build-optimization",
      "preview-deployment",
      "production-deployment",
      "rollback-support"
    ]
  }
}
```

### 4.2 TRAE AI ê°œë°œ ì›Œí¬í”Œë¡œìš°
```typescript
// .trae/workflows/development.ts
export const developmentWorkflow = {
  // 1. ì»´í¬ë„ŒíŠ¸ ìƒì„± ì›Œí¬í”Œë¡œìš°
  createComponent: {
    steps: [
      'analyze-requirements',
      'generate-component-structure',
      'implement-logic',
      'add-styling',
      'generate-tests',
      'update-documentation'
    ],
    templates: {
      component: 'react-functional-component',
      test: 'jest-react-testing-library',
      story: 'storybook-component'
    }
  },
  
  // 2. API ê°œë°œ ì›Œí¬í”Œë¡œìš°
  createAPI: {
    steps: [
      'define-schema',
      'implement-route-handler',
      'add-validation',
      'implement-database-queries',
      'add-error-handling',
      'generate-api-tests'
    ],
    templates: {
      route: 'nextjs-api-route',
      validation: 'zod-schema',
      query: 'supabase-query'
    }
  },
  
  // 3. ë°ì´í„°ë² ì´ìŠ¤ ì›Œí¬í”Œë¡œìš°
  updateDatabase: {
    steps: [
      'create-migration',
      'update-types',
      'update-queries',
      'run-tests',
      'deploy-migration'
    ],
    templates: {
      migration: 'supabase-migration',
      types: 'typescript-database-types'
    }
  }
};
```

### 4.3 TRAE AI ìë™í™” ìŠ¤í¬ë¦½íŠ¸
```bash
#!/bin/bash
# .trae/scripts/deploy.sh

echo "ğŸš€ Starting TRAE AI assisted deployment..."

# 1. ì½”ë“œ í’ˆì§ˆ ê²€ì‚¬
echo "ğŸ“‹ Running code quality checks..."
npm run lint
npm run type-check

# 2. í…ŒìŠ¤íŠ¸ ì‹¤í–‰
echo "ğŸ§ª Running tests..."
npm run test:unit
npm run test:integration

# 3. ë¹Œë“œ í…ŒìŠ¤íŠ¸
echo "ğŸ”¨ Testing build..."
npm run build

# 4. Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ í™•ì¸
echo "ğŸ—„ï¸ Checking database migrations..."
supabase db diff

# 5. Vercel ë°°í¬
echo "â˜ï¸ Deploying to Vercel..."
vercel --prod

# 6. ë°°í¬ í›„ ê²€ì¦
echo "âœ… Running post-deployment checks..."
npm run test:e2e:prod

echo "ğŸ‰ Deployment completed successfully!"
```

## 5. í¬ë¡¤ë§ ë° ìë™í™” ì„¤ì •

### 5.1 KPI ì›¹ í¬ë¡¤ë§ êµ¬í˜„
```typescript
// src/lib/crawler/kpi-crawler.ts
import puppeteer from 'puppeteer';
import { createServiceSupabase } from '@/lib/supabase';

export class KPICrawler {
  private supabase = createServiceSupabase();
  
  async crawlMaterialPrices() {
    const browser = await puppeteer.launch({
      headless: true,
      args: ['--no-sandbox', '--disable-setuid-sandbox']
    });
    
    try {
      const page = await browser.newPage();
      
      // KPI ì‚¬ì´íŠ¸ ì ‘ì†
      await page.goto('https://kpi-website.com/materials');
      
      // ë¡œê·¸ì¸ (í•„ìš”í•œ ê²½ìš°)
      await this.login(page);
      
      // ìì¬ ëª©ë¡ í¬ë¡¤ë§
      const materials = await this.crawlMaterials(page);
      
      // ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
      await this.savePriceData(materials);
      
      return {
        success: true,
        totalItems: materials.length,
        timestamp: new Date().toISOString()
      };
    } catch (error) {
      console.error('Crawling error:', error);
      throw error;
    } finally {
      await browser.close();
    }
  }
  
  private async login(page: any) {
    // ë¡œê·¸ì¸ ë¡œì§ êµ¬í˜„
    await page.type('#username', process.env.KPI_USERNAME!);
    await page.type('#password', process.env.KPI_PASSWORD!);
    await page.click('#login-button');
    await page.waitForNavigation();
  }
  
  private async crawlMaterials(page: any) {
    // ìì¬ ë°ì´í„° í¬ë¡¤ë§ ë¡œì§
    return await page.evaluate(() => {
      const materials = [];
      const rows = document.querySelectorAll('.material-row');
      
      rows.forEach(row => {
        const material = {
          code: row.querySelector('.code')?.textContent?.trim(),
          name: row.querySelector('.name')?.textContent?.trim(),
          price: parseFloat(row.querySelector('.price')?.textContent?.replace(/[^0-9.]/g, '') || '0'),
          unit: row.querySelector('.unit')?.textContent?.trim(),
          date: new Date().toISOString().split('T')[0]
        };
        materials.push(material);
      });
      
      return materials;
    });
  }
  
  private async savePriceData(materials: any[]) {
    for (const material of materials) {
      // ìì¬ ì¡´ì¬ í™•ì¸
      const { data: existingMaterial } = await this.supabase
        .from('materials')
        .select('id')
        .eq('kpi_item_code', material.code)
        .single();
      
      if (existingMaterial) {
        // ê°€ê²© ì´ë ¥ ì €ì¥
        await this.supabase
          .from('price_history')
          .upsert({
            material_id: existingMaterial.id,
            price: material.price,
            price_date: material.date,
            data_source: 'KPI'
          });
      }
    }
  }
}
```

### 5.2 Vercel Cron Jobs ì„¤ì •
```typescript
// src/app/api/crawl/daily/route.ts
import { NextRequest, NextResponse } from 'next/server';
import { KPICrawler } from '@/lib/crawler/kpi-crawler';
import { createServiceSupabase } from '@/lib/supabase';

export async function GET(request: NextRequest) {
  // Vercel Cron Secret ê²€ì¦
  const authHeader = request.headers.get('authorization');
  if (authHeader !== `Bearer ${process.env.CRON_SECRET}`) {
    return NextResponse.json({ error: 'Unauthorized' }, { status: 401 });
  }
  
  const supabase = createServiceSupabase();
  const crawler = new KPICrawler();
  
  try {
    // í¬ë¡¤ë§ ë¡œê·¸ ì‹œì‘
    const { data: logEntry } = await supabase
      .from('crawling_logs')
      .insert({
        crawl_date: new Date().toISOString().split('T')[0],
        start_time: new Date().toISOString(),
        status: 'running',
        crawl_type: 'daily'
      })
      .select()
      .single();
    
    // í¬ë¡¤ë§ ì‹¤í–‰
    const result = await crawler.crawlMaterialPrices();
    
    // í¬ë¡¤ë§ ë¡œê·¸ ì™„ë£Œ
    await supabase
      .from('crawling_logs')
      .update({
        end_time: new Date().toISOString(),
        status: 'completed',
        success_items: result.totalItems,
        total_items: result.totalItems
      })
      .eq('id', logEntry.id);
    
    return NextResponse.json({
      success: true,
      message: 'Daily crawling completed',
      data: result
    });
  } catch (error) {
    // ì—ëŸ¬ ë¡œê·¸ ì €ì¥
    console.error('Daily crawling failed:', error);
    
    return NextResponse.json(
      { success: false, error: error.message },
      { status: 500 }
    );
  }
}
```

## 6. ëª¨ë‹ˆí„°ë§ ë° ì•Œë¦¼ ì„¤ì •

### 6.1 Vercel Analytics ì—°ë™
```typescript
// src/app/layout.tsx
import { Analytics } from '@vercel/analytics/react';
import { SpeedInsights } from '@vercel/speed-insights/next';

export default function RootLayout({
  children,
}: {
  children: React.ReactNode;
}) {
  return (
    <html lang="ko">
      <body>
        {children}
        <Analytics />
        <SpeedInsights />
      </body>
    </html>
  );
}
```

### 6.2 ì—ëŸ¬ ëª¨ë‹ˆí„°ë§
```typescript
// src/lib/monitoring.ts
import { createServiceSupabase } from '@/lib/supabase';

export class ErrorMonitoring {
  private supabase = createServiceSupabase();
  
  async logError(error: Error, context: any) {
    try {
      await this.supabase
        .from('error_logs')
        .insert({
          error_message: error.message,
          error_stack: error.stack,
          context: JSON.stringify(context),
          timestamp: new Date().toISOString(),
          user_agent: context.userAgent,
          url: context.url
        });
    } catch (logError) {
      console.error('Failed to log error:', logError);
    }
  }
  
  async sendAlert(message: string, severity: 'low' | 'medium' | 'high') {
    // ì´ë©”ì¼/ìŠ¬ë™ ì•Œë¦¼ ë°œì†¡
    if (severity === 'high') {
      // ì¦‰ì‹œ ì•Œë¦¼
      await this.sendImmediateAlert(message);
    }
  }
  
  private async sendImmediateAlert(message: string) {
    // ì‹¤ì œ ì•Œë¦¼ ì„œë¹„ìŠ¤ ì—°ë™ (ì˜ˆ: SendGrid, Slack)
  }
}
```

## 7. ì„±ëŠ¥ ìµœì í™” ë° ë³´ì•ˆ

### 7.1 Vercel Edge Functions
```typescript
// src/middleware.ts
import { NextRequest, NextResponse } from 'next/server';
import { createMiddlewareClient } from '@supabase/auth-helpers-nextjs';

export async function middleware(request: NextRequest) {
  const response = NextResponse.next();
  const supabase = createMiddlewareClient({ req: request, res: response });
  
  // ì¸ì¦ í™•ì¸
  const { data: { session } } = await supabase.auth.getSession();
  
  // ê´€ë¦¬ì í˜ì´ì§€ ë³´í˜¸
  if (request.nextUrl.pathname.startsWith('/admin')) {
    if (!session) {
      return NextResponse.redirect(new URL('/login', request.url));
    }
  }
  
  // API ìš”ì²­ ì œí•œ
  if (request.nextUrl.pathname.startsWith('/api/')) {
    const ip = request.ip || 'unknown';
    const rateLimit = await checkRateLimit(ip);
    
    if (!rateLimit.allowed) {
      return NextResponse.json(
        { error: 'Too many requests' },
        { status: 429 }
      );
    }
  }
  
  return response;
}

export const config = {
  matcher: ['/admin/:path*', '/api/:path*']
};
```

### 7.2 í™˜ê²½ë³„ ì„¤ì • ê´€ë¦¬
```typescript
// src/lib/config.ts
interface Config {
  supabase: {
    url: string;
    anonKey: string;
    serviceRoleKey?: string;
  };
  app: {
    name: string;
    version: string;
    environment: 'development' | 'preview' | 'production';
  };
  features: {
    crawling: boolean;
    analytics: boolean;
    monitoring: boolean;
  };
}

export const config: Config = {
  supabase: {
    url: process.env.NEXT_PUBLIC_SUPABASE_URL!,
    anonKey: process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!,
    serviceRoleKey: process.env.SUPABASE_SERVICE_ROLE_KEY
  },
  app: {
    name: 'Materials Dashboard',
    version: process.env.npm_package_version || '1.0.0',
    environment: (process.env.VERCEL_ENV as any) || 'development'
  },
  features: {
    crawling: process.env.NODE_ENV === 'production',
    analytics: process.env.NODE_ENV === 'production',
    monitoring: true
  }
};
```

## 8. ë°°í¬ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 8.1 ë°°í¬ ì „ í™•ì¸ì‚¬í•­
- [ ] ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ ì„¤ì • ì™„ë£Œ
- [ ] Supabase ë§ˆì´ê·¸ë ˆì´ì…˜ ì ìš©
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ í™•ì¸
- [ ] ë¹Œë“œ ì—ëŸ¬ ì—†ìŒ
- [ ] ë³´ì•ˆ ì„¤ì • í™•ì¸
- [ ] ì„±ëŠ¥ ìµœì í™” ì ìš©
- [ ] ëª¨ë‹ˆí„°ë§ ì„¤ì • ì™„ë£Œ

### 8.2 ë°°í¬ í›„ í™•ì¸ì‚¬í•­
- [ ] ì‚¬ì´íŠ¸ ì •ìƒ ì ‘ì† í™•ì¸
- [ ] ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í™•ì¸
- [ ] API ì—”ë“œí¬ì¸íŠ¸ ë™ì‘ í™•ì¸
- [ ] í¬ë¡¤ë§ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
- [ ] ì°¨íŠ¸ ë° ì‹œê°í™” í™•ì¸
- [ ] ëª¨ë°”ì¼ ë°˜ì‘í˜• í™•ì¸
- [ ] ì„±ëŠ¥ ì§€í‘œ ëª¨ë‹ˆí„°ë§

ì´ ë°°í¬ ê°€ì´ë“œë¥¼ í†µí•´ TRAE AI, Vercel, Supabaseê°€ ì™„ì „íˆ ì—°ë™ëœ ìì¬ ê°€ê²© ë™í–¥ ë¶„ì„ ì‹œìŠ¤í…œì„ ì„±ê³µì ìœ¼ë¡œ ë°°í¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.